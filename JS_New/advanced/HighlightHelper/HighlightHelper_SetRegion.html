<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
     <title>HighlightHelper_SetRegion</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <script type="text/javascript" src="../../cm7.js"></script>
    <script type="text/javascript" src="../../cm7_sample_util.js"></script>
    <script type="text/javascript" src="qunit/qunit-test-cap.js"></script>
</head>
<body>
    
    <div>
        <object id="renderControl" type="application/x-cm-3d8" style="height: 600px; width: 800px">
        </object>
    </div>
</body>
     <script type="text/javascript">
         var __g = document.getElementById("renderControl");
         
         var __fcMap = {};
         var __fcGeoMap = {};
         

		 window.onload = function () {
			 setTimeout("Initialize(true);", 1);
		 }
         
         function Initialize() {
             //初始化三维控件
             initAxControl();
             // 加载FDB场景
             loadFdb("SDKDEMO.fdb");
             var polygon = __g.geometryFactory.createGeometry(gviGeometryType.gviGeometryPolygon, gviVertexAttribute.gviVertexAttributeZ);
             //polygon.spatialCRS = __datasetSpatialCRS;
             var point = __g.geometryFactory.createPoint(gviVertexAttribute.gviVertexAttributeZ);
             point.setCoords(15103.99, 35953.59, 0, 0, 0);
             var poin2 = __g.geometryFactory.createPoint(gviVertexAttribute.gviVertexAttributeZ);
             poin2.setCoords(15194.95, 35696.54, 5.20, 0, 0);
             var poin3 = __g.geometryFactory.createPoint(gviVertexAttribute.gviVertexAttributeZ);
             poin3.setCoords(15412.17, 35940.91, 21.51, 0, 0);
             var poin4 = __g.geometryFactory.createPoint(gviVertexAttribute.gviVertexAttributeZ);
             poin4.setCoords(15481.39, 35742.28, 5.20, 0, 0);
             polygon.exteriorRing.appendPoint(poin2);
             polygon.exteriorRing.appendPoint(point);
             polygon.exteriorRing.appendPoint(poin3);
             polygon.exteriorRing.appendPoint(poin4);

             __g.highlightHelper.visibleMask = gviViewportMask.gviViewAllNormalView;
             __g.highlightHelper.color = 0xffff00ff;
             __g.highlightHelper.setRegion(polygon);

             var cameraPos = __g.geometryFactory.createPoint(gviVertexAttribute.gviVertexAttributeZ);
             cameraPos.setCoords(15253.78, 35430.86, 409.91, 0, 0);
             //cameraPos.spatialCRS = __datasetSpatialCRS;
             var eulerAngle = __g.new_EulerAngle;
             eulerAngle.tilt = -45;
             __g.camera.setCamera2(cameraPos, eulerAngle, gviSetCameraFlags.gviSetCameraNoFlags); 
         }
         
         
    
     </script>
</html>
